{{ define "extratitle" }}
<nav class="breadcrumb" aria-label="breadcrumbs">
  <ul>
    <li><a href="/">Home</a></li>
    <li class="is-active"><a href="#" aria-current="page">Languages</a></li>
  </ul>
</nav>
{{ end }}

{{ define "main" }}

<h1 class="subtitle is-3">Languages</h1>

<div id="listing"></div>

<noscript>
  <p class="is-3">
  Sorry, this page is using JavaScript.
  Maybe try view source?
  The data is packed there.
  </p>
</noscript>

<script>

const langMap = {
  "af":["Afrikaans","Afrikaans"],
  "agq":["Aghem","Aghem"],
  "ak":["Akan","Akan"],
  "am":["Amharic","áŠ áˆ›áˆ­áŠ›"],
  "ar":["Arabic","Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"],
  "as":["Assamese","à¦…à¦¸à¦®à§€à¦¯à¦¼à¦¾"],
  "asa":["Asu","Kipare"],
  "ast":["Asturian","asturianu"],
  "az":["Azerbaijani","azÉ™rbaycan"],
  "bas":["Basaa","ÆÃ sÃ a"],
  "be":["Belarusian","Ğ±ĞµĞ»Ğ°Ñ€ÑƒÑĞºĞ°Ñ"],
  "bem":["Bemba","Ichibemba"],
  "bez":["Bena","Hibena"],
  "bg":["Bulgarian","Ğ±ÑŠĞ»Ğ³Ğ°Ñ€ÑĞºĞ¸"],
  "bgc":["Haryanvi","à¤¹à¤°à¤¿à¤¯à¤¾à¤£à¤µà¥€"],
  "bho":["Bhojpuri","à¤­à¥‹à¤œà¤ªà¥à¤°à¥€"],
  "bm":["Bambara","bamanakan"],
  "bn":["Bangla","à¦¬à¦¾à¦‚à¦²à¦¾"],
  "bo":["Tibetan","à½–à½¼à½‘à¼‹à½¦à¾à½‘à¼‹"],
  "br":["Breton","brezhoneg"],
  "brx":["Bodo","à¤¬à¤°â€™"],
  "bs":["Bosnian","bosanski"],
  "ca":["Catalan","catalÃ "],
  "ccp":["Chakma","ğ‘„Œğ‘„‹ğ‘„´ğ‘„Ÿğ‘„³ğ‘„¦"],
  "ce":["Chechen","Ğ½Ğ¾Ñ…Ñ‡Ğ¸Ğ¹Ğ½"],
  "ceb":["Cebuano","Cebuano"],
  "cgg":["Chiga","Rukiga"],
  "chr":["Cherokee","á£á³á©"],
  "ckb":["CentralKurdish","Ú©ÙˆØ±Ø¯ÛŒÛŒÙ†Ø§ÙˆÛ•Ù†Ø¯ÛŒ"],
  "cs":["Czech","ÄeÅ¡tina"],
  "cv":["Chuvash","Ñ‡Ó‘Ğ²Ğ°Ñˆ"],
  "cy":["Welsh","Cymraeg"],
  "da":["Danish","dansk"],
  "dav":["Taita","Kitaita"],
  "de":["German","Deutsch"],
  "dje":["Zarma","Zarmaciine"],
  "doi":["Dogri","à¤¡à¥‹à¤—à¤°à¥€"],
  "dsb":["LowerSorbian","dolnoserbÅ¡Ä‡ina"],
  "dua":["Duala","duÃ¡lÃ¡"],
  "dz":["Dzongkha","à½¢à¾«à½¼à½„à¼‹à½"],
  "ebu":["Embu","KÄ©embu"],
  "ee":["Ewe","EÊ‹egbe"],
  "el":["Greek","Î•Î»Î»Î·Î½Î¹ÎºÎ¬"],
  "en":["English","English"],
  "eo":["Esperanto","Esperanto"],
  "es":["Spanish","EspaÃ±ol"],
  "et":["Estonian","eesti"],
  "eu":["Basque","euskara"],
  "ewo":["Ewondo","ewondo"],
  "fa":["Persian","ÙØ§Ø±Ø³ÛŒ"],
  "ff":["Fula","Pulaar"],
  "fi":["Finnish","suomi"],
  "fil":["Filipino","Filipino"],
  "fo":["Faroese","fÃ¸royskt"],
  "fr":["French","FranÃ§ais"],
  "fur":["Friulian","furlan"],
  "fy":["WesternFrisian","Frysk"],
  "ga":["Irish","Gaeilge"],
  "gd":["ScottishGaelic","GÃ idhlig"],
  "gl":["Galician","galego"],
  "gsw":["SwissGerman","SchwiizertÃ¼Ã¼tsch"],
  "gu":["Gujarati","àª—à«àªœàª°àª¾àª¤à«€"],
  "guz":["Gusii","Ekegusii"],
  "gv":["Manx","Gaelg"],
  "ha":["Hausa","Hausa"],
  "haw":["Hawaiian","Ê»ÅŒleloHawaiÊ»i"],
  "he":["Hebrew","×¢×‘×¨×™×ª"],
  "hi":["Hindi","à¤¹à¤¿à¤¨à¥à¤¦à¥€"],
  "hr":["Croatian","hrvatski"],
  "hsb":["UpperSorbian","hornjoserbÅ¡Ä‡ina"],
  "hu":["Hungarian","magyar"],
  "hy":["Armenian","Õ°Õ¡ÕµÕ¥Ö€Õ¥Õ¶"],
  "ia":["Interlingua","interlingua"],
  "id":["Indonesian","Indonesia"],
  "ig":["Igbo","Igbo"],
  "ii":["SichuanYi","ê†ˆêŒ ê‰™"],
  "is":["Icelandic","Ã­slenska"],
  "it":["Italian","Italiano"],
  "ja":["Japanese","æ—¥æœ¬èª"],
  "jgo":["Ngomba","NdaêŒa"],
  "jmc":["Machame","Kimachame"],
  "jv":["Javanese","Jawa"],
  "ka":["Georgian","áƒ¥áƒáƒ áƒ—áƒ£áƒšáƒ˜"],
  "kab":["Kabyle","Taqbaylit"],
  "kam":["Kamba","Kikamba"],
  "kde":["Makonde","Chimakonde"],
  "kea":["Kabuverdianu","kabuverdianu"],
  "kgp":["Kaingang","kanhgÃ¡g"],
  "khq":["KoyraChiini","Koyraciini"],
  "ki":["Kikuyu","Gikuyu"],
  "kk":["Kazakh","Ò›Ğ°Ğ·Ğ°Ò›Ñ‚Ñ–Ğ»Ñ–"],
  "kkj":["Kako","kakÉ”"],
  "kl":["Kalaallisut","kalaallisut"],
  "kln":["Kalenjin","Kalenjin"],
  "km":["Khmer","ááŸ’á˜áŸ‚áš"],
  "kn":["Kannada","à²•à²¨à³à²¨à²¡"],
  "ko":["Korean","í•œêµ­ì–´"],
  "kok":["Konkani","à¤•à¥‹à¤‚à¤•à¤£à¥€"],
  "ks":["Kashmiri","Ú©Ù²Ø´ÙØ±"],
  "ksb":["Shambala","Kishambaa"],
  "ksf":["Bafia","rikpa"],
  "ksh":["Colognian","KÃ¶lsch"],
  "ku":["Kurdish","kurdÃ®"],
  "kw":["Cornish","kernewek"],
  "ky":["Kyrgyz","ĞºÑ‹Ñ€Ğ³Ñ‹Ğ·Ñ‡Ğ°"],
  "lag":["Langi","KÉ¨laangi"],
  "lb":["Luxembourgish","LÃ«tzebuergesch"],
  "lg":["Ganda","Luganda"],
  "lkt":["Lakota","LakÈŸÃ³lÊ¼iyapi"],
  "ln":["Lingala","lingÃ¡la"],
  "lo":["Lao","àº¥àº²àº§"],
  "lrc":["NorthernLuri","Ù„ÛŠØ±ÛŒØ´ÙˆÙ…Ø§Ù„ÛŒ"],
  "lt":["Lithuanian","lietuviÅ³"],
  "luo":["Luo","Dholuo"],
  "luy":["Luyia","Luluhia"],
  "lv":["Latvian","latvieÅ¡u"],
  "mai":["Maithili","à¤®à¥ˆà¤¥à¤¿à¤²à¥€"],
  "mas":["Masai","Maa"],
  "mer":["Meru","KÄ©mÄ©rÅ©"],
  "mfe":["Morisyen","kreolmorisien"],
  "mg":["Malagasy","Malagasy"],
  "mgo":["MetaÊ¼","metaÊ¼"],
  "mi":["MÄori","MÄori"],
  "mk":["Macedonian","Ğ¼Ğ°ĞºĞµĞ´Ğ¾Ğ½ÑĞºĞ¸"],
  "ml":["Malayalam","à´®à´²à´¯à´¾à´³à´‚"],
  "mn":["Mongolian","Ğ¼Ğ¾Ğ½Ğ³Ğ¾Ğ»"],
  "mni":["Manipuri","à¦®à§ˆà¦¤à§ˆà¦²à§‹à¦¨à§"],
  "mr":["Marathi","à¤®à¤°à¤¾à¤ à¥€"],
  "ms":["Malay","Melayu"],
  "mt":["Maltese","Malti"],
  "mua":["Mundang","MUNDAÅŠ"],
  "my":["Burmese","á€™á€¼á€”á€ºá€™á€¬"],
  "mzn":["Mazanderani","Ù…Ø§Ø²Ø±ÙˆÙ†ÛŒ"],
  "naq":["Nama","Khoekhoegowab"],
  "nb":["NorwegianBokmÃ¥l","norskbokmÃ¥l"],
  "nd":["NorthNdebele","isiNdebele"],
  "ne":["Nepali","à¤¨à¥‡à¤ªà¤¾à¤²à¥€"],
  "nl":["Dutch","Nederlands"],
  "nmg":["Kwasio","Kwasio"],
  "nn":["NorwegianNynorsk","norsknynorsk"],
  "nnh":["Ngiemboon","ShwÃ³Å‹Ã²ngiembÉ”É”n"],
  "no":["Norwegian","norsk"],
  "nus":["Nuer","ThokNath"],
  "nyn":["Nyankole","Runyankore"],
  "om":["Oromo","Oromoo"],
  "or":["Odia","à¬“à¬¡à¬¼à¬¿à¬†"],
  "os":["Ossetic","Ğ¸Ñ€Ğ¾Ğ½"],
  "pa":["Punjabi","à¨ªà©°à¨œà¨¾à¨¬à©€"],
  "pcm":["NigerianPidgin","NaijÃ­riÃ¡PÃ­jin"],
  "pl":["Polish","polski"],
  "ps":["Pashto","Ù¾ÚšØªÙˆ"],
  "pt":["Portuguese","PortuguÃªs"],
  "qu":["Quechua","Runasimi"],
  "raj":["Rajasthani","à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¥€"],
  "rm":["Romansh","rumantsch"],
  "rn":["Rundi","Ikirundi"],
  "ro":["Romanian","romÃ¢nÄƒ"],
  "rof":["Rombo","Kihorombo"],
  "ru":["Russian","Ñ€ÑƒÑÑĞºĞ¸Ğ¹"],
  "rw":["Kinyarwanda","Kinyarwanda"],
  "rwk":["Rwa","Kiruwa"],
  "sa":["Sanskrit","à¤¸à¤‚à¤¸à¥à¤•à¥ƒà¤¤à¤­à¤¾à¤·à¤¾"],
  "sah":["Yakut","ÑĞ°Ñ…Ğ°Ñ‚Ñ‹Ğ»Ğ°"],
  "saq":["Samburu","Kisampur"],
  "sat":["Santali","á±¥á±Ÿá±±á±›á±Ÿá±²á±¤"],
  "sbp":["Sangu","Ishisangu"],
  "sc":["Sardinian","sardu"],
  "sd":["Sindhi","Ø³Ù†ÚŒÙŠ"],
  "se":["NorthernSami","davvisÃ¡megiella"],
  "seh":["Sena","sena"],
  "ses":["KoyraboroSenni","Koyraborosenni"],
  "sg":["Sango","SÃ¤ngÃ¶"],
  "shi":["Tachelhit","âµœâ´°âµ›âµâµƒâµ‰âµœ"],
  "si":["Sinhala","à·ƒà·’à¶‚à·„à¶½"],
  "sk":["Slovak","slovenÄina"],
  "sl":["Slovenian","slovenÅ¡Äina"],
  "smn":["InariSami","anarÃ¢Å¡kielÃ¢"],
  "sn":["Shona","chiShona"],
  "so":["Somali","Soomaali"],
  "sq":["Albanian","shqip"],
  "sr":["Serbian","ÑÑ€Ğ¿ÑĞºĞ¸"],
  "su":["Sundanese","BasaSunda"],
  "sv":["Swedish","Svenska"],
  "sw":["Swahili","Kiswahili"],
  "ta":["Tamil","à®¤à®®à®¿à®´à¯"],
  "te":["Telugu","à°¤à±†à°²à±à°—à±"],
  "teo":["Teso","Kiteso"],
  "tg":["Tajik","Ñ‚Ğ¾Ò·Ğ¸ĞºÓ£"],
  "th":["Thai","à¹„à¸—à¸¢"],
  "ti":["Tigrinya","á‰µáŒáˆ­áŠ›"],
  "tk":["Turkmen","tÃ¼rkmendili"],
  "to":["Tongan","leafakatonga"],
  "tr":["Turkish","TÃ¼rkÃ§e"],
  "tt":["Tatar","Ñ‚Ğ°Ñ‚Ğ°Ñ€"],
  "twq":["Tasawaq","Tasawaqsenni"],
  "tzm":["CentralAtlasTamazight","TamaziÉ£tnlaá¹­laá¹£"],
  "ug":["Uyghur","Ø¦Û‡ÙŠØºÛ‡Ø±Ú†Û•"],
  "uk":["Ukrainian","ÑƒĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°"],
  "ur":["Urdu","Ø§Ø±Ø¯Ùˆ"],
  "uz":["Uzbek","oâ€˜zbek"],
  "vai":["Vai","ê•™ê”¤"],
  "vi":["Vietnamese","Tiáº¿ngViá»‡t"],
  "vun":["Vunjo","Kyivunjo"],
  "wae":["Walser","Walser"],
  "wo":["Wolof","Wolof"],
  "xh":["Xhosa","IsiXhosa"],
  "xog":["Soga","Olusoga"],
  "yav":["Yangben","nuasue"],
  "yi":["Yiddish","×™×™Ö´×“×™×©"],
  "yo":["Yoruba","ÃˆdÃ¨YorÃ¹bÃ¡"],
  "yrl":["Nheengatu","nheáº½gatu"],
  "yue":["Cantonese","ç²µèª"],
  "zgh":["StandardMoroccanTamazight","âµœâ´°âµâ´°âµ£âµ‰âµ–âµœ"],
  "zh":["Chinese","ä¸­æ–‡"],
  "zu":["Zulu","isiZulu"],
  };

function fmtLang(lang) {
  if (lang in langMap) {
    return langMap[lang][1];
  }
  return lang;
}

var data = [
{{ range .Site.RegularPages -}}
  {{- if .Params.language -}}
    {{ $title := .Title }}
    {{ if not $title }}
      {{ $title = .Params.feedlink }}
    {{ end }}
    {
        "t": "{{ $title }}",
        "s": {{ .Params.score }},
        "l": "{{ .Permalink }}",
        "L": "{{ .Params.language }}",
    },
  {{- end -}}
{{- end }}
];

  // Collect the items
  var langs = {};
  var listing = document.getElementById("listing");
  for (var feed of data) {
    if (!(feed.L in langs)) {
      langs[feed.L] = [];
    }
    langs[feed.L].push({
        "title": feed.t,
        "score": feed.s,
        "link": feed.l,
    })
  }

  // Sort by feeds in lang, then lang name
  var langs = Object.keys(langs).map(function(key) {
    return [key, langs[key]];
  });
  langs.sort(function(a, b) {
    var d = b[1].length - a[1].length;
    if (d == 0) {
        d = a[0] - b[0];
    }
    return d;
  });

  for (lang of langs) {
    var details = document.createElement("details");
    details.classList.add("mb-0");
    details.classList.add("mt-4");
    var summary = document.createElement("summary");
    var h = document.createElement("h2");
      h.innerText = fmtLang(lang[0]) + " (" + lang[1].length + ")";
    h.classList.add("subtitle");
    h.classList.add("is-5");
    h.classList.add("is-inline");
    h.id = lang[0];

    // Highest score, then alphabetical by title
    lang[1].sort(function(a, b) {
        var d = b.score - a.score;
        if (d == 0) {
          d = a.title - b.title;
        }
        return d;
    });

    for (var page of lang[1]) {
      var a = document.createElement("a");
      a.innerText = page.title;
      a.href = page.link;
      details.appendChild(document.createElement("br"));
      details.appendChild(a);
    }
    details.appendChild(summary);
    var bottom = document.createElement("div");
    bottom.classList.add("p-4");
    details.appendChild(bottom);
    summary.appendChild(h);
    listing.appendChild(details);
  }
</script>

{{ end }}
